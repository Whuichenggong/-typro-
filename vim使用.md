# vim使用

#### 1.

Vim 本身是一个文本编辑器，它不包含编译器，因此不能直接编译 C 语言代码。但是，你可以在 Vim 中编写 C 语言代码，然后使用外部编译器如 `gcc` 来编译代码。以下是在 Vim 中编写 C 程序并使用 `gcc` 编译的步骤：

1. **在 Vim 中创建并编辑 C 文件**：
   打开终端，输入 `vim hello.c` 来创建一个名为 `hello.c` 的新文件，并编辑它。在 Vim 中编写你的 C 代码。
2. **保存并退出 Vim**：
   在 Vim 中，按 `Esc` 退出编辑模式，然后输入 `:wq` 保存文件并退出 Vim。
3. **使用 gcc 编译代码**：
   在终端中，使用 `gcc` 命令来编译你的 C 代码。例如：

```bash
   gcc -o hello hello.c
```

这里的 `-o hello` 指定了输出的可执行文件名为 `hello`。

1. **运行编译后的程序**：
   编译完成后，你可以通过 `./hello` 来运行你的程序（假设你的程序名为 `hello`）。

如果你想要每次保存文件后自动编译，你可以在 Vim 中设置自动命令：

1. **在 Vim 中设置自动命令**：
   在 Vim 中，输入 `:Autocmd BufWritePost *.c execute '!gcc % -o %<'`。这条命令的作用是，每当你在 Vim 中保存一个 `.c` 文件时，Vim 会自动运行 `gcc` 命令来编译这个文件。
2. **运行程序**：
   编译完成后，你需要手动运行 `./a.out`（或者你指定的输出文件名）来执行编译后的程序。

请注意，这只是一个简单的示例，你的编译命令可能需要根据你的项目需求添加额外的 `gcc` 选项，例如 `-Wall`（开启所有警告）或 `-std=c99`（指定 C 语言标准）。

此外，你可以通过使用 Vim 插件来增强 Vim 的功能，例如 `vim-plug`，`Vundle` 或 `Pathogen`，这些插件可以帮助你管理其他插件，并且可以提供诸如自动补全、语法检查、代码格式化等功能，从而进一步改善你的 C 语言开发体验。

#### 2.

在 Vim 中全选并删除文本，你可以按照以下步骤操作：

1. **进入 normal 模式**：
   如果你已经在插入模式下，按 `Esc` 键退出到 normal 模式。
2. **全选文本**：
   - 使用 `gg` 移动光标到文件的第一行。
   - 使用 `G` 移动光标到文件的最后一行。
   - 在 normal 模式下，输入 `:%d` 命令删除从第一行到最后一行的所有内容。

这里的 `:%d` 是一个 Vim 命令，其中 `:` 表示进入命令模式，`%` 表示对整个文件进行操作，`d` 是删除操作的简写。

如果你只想删除除了第一行之外的所有内容，可以稍微修改命令：

- 使用 `gg` 移动光标到第一行。
- 使用 `j` 移动光标到第二行（因为 `gg` 已经在第一行了）。
- 输入 `:%d` 删除从当前行（不包括这行）到最后一行的所有内容。

请注意，这些操作会直接删除文本，所以在执行前确保你确实想要删除这些内容。如果你不确定，可以先使用 `:%y` 命令将文本复制到剪贴板，这样如果操作错误，还可以从剪贴板粘贴回来。

如果你使用的是图形界面的 Vim，通常也可以通过编辑菜单中的 “全选” 和 “删除” 或者使用键盘快捷键（例如在 Ubuntu 中通常是 `Ctrl+A` 全选，`Ctrl+D` 删除到行尾，然后多次使用可以删除整行）来实现类似的功能。但是不同版本的 Vim 或不同的终端模拟器，快捷键可能会有所不同。

#### 3.

在 Vim 中，你可以通过以下方式回到 normal 模式：

1. **从插入模式**：
   - 如果你正在插入模式（insert mode）中，按 `Esc` 键即可退出并回到 normal 模式。
2. **从命令模式**：
   - 如果你正在命令模式（command mode）中，这通常发生在输入命令后按 `:` 时，你可以通过按 `Esc` 键退出命令模式并回到 normal 模式。
3. **从可视模式**：
   - 如果你处于可视模式（visual mode），通常是通过按 `v`、`V` 或 `Ctrl+V` 进入的，按 `Esc` 键即可退出可视模式并回到 normal 模式。
4. **从替换模式**：
   - 如果你处于替换模式（replace mode），这是通过在 normal 模式下按 `R` 进入的，按 `Esc` 键即可退出替换模式并回到 normal 模式。
5. **从终端模式**：
   - 如果你通过 `:terminal` 命令进入了内置的终端模式，可以通过按 `Ctrl+\` 然后按 `Ctrl+N` 回到 normal 模式。
6. **从选择模式**：
   - 如果你处于选择模式（select mode），通常是通过点击鼠标右键进入的，按 `Esc` 键即可退出选择模式并回到 normal 模式。

在 Vim 中，normal 模式是最基本的模式，大多数的 Vim 命令都需要在 normal 模式下执行。熟练使用 Vim 快捷键和命令可以大大提高编辑效率。